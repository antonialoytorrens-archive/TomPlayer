<refentry id="pango-OpenType-Font-Handling">
<refmeta>
<refentrytitle role="top_of_page">OpenType Font Handling</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>PANGO Library</refmiscinfo>
</refmeta>

<refnamediv>
<refname>OpenType Font Handling</refname>
<refpurpose>Obtaining information from OpenType tables</refpurpose>
<!--[<xref linkend="desc" endterm="desc.title"/>]-->
</refnamediv>

<refsynopsisdiv role="synopsis">
<title role="synopsis.title">Synopsis</title>

<synopsis>



typedef     <link linkend="PangoOTTag">PangoOTTag</link>;
            <link linkend="PangoOTInfo">PangoOTInfo</link>;
            <link linkend="PangoOTBuffer">PangoOTBuffer</link>;
            <link linkend="PangoOTGlyph">PangoOTGlyph</link>;
            <link linkend="PangoOTRuleset">PangoOTRuleset</link>;
enum        <link linkend="PangoOTTableType">PangoOTTableType</link>;
#define     <link linkend="PANGO-OT-ALL-GLYPHS:CAPS">PANGO_OT_ALL_GLYPHS</link>
#define     <link linkend="PANGO-OT-DEFAULT-LANGUAGE:CAPS">PANGO_OT_DEFAULT_LANGUAGE</link>
<link linkend="PangoOTInfo">PangoOTInfo</link>* <link linkend="pango-ot-info-get">pango_ot_info_get</link>              (<link linkend="FT-Face">FT_Face</link> face);
<link linkend="gboolean">gboolean</link>    <link linkend="pango-ot-info-find-script">pango_ot_info_find_script</link>       (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="PangoOTTag">PangoOTTag</link> script_tag,
                                             <link linkend="guint">guint</link> *script_index);
<link linkend="gboolean">gboolean</link>    <link linkend="pango-ot-info-find-language">pango_ot_info_find_language</link>     (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="guint">guint</link> script_index,
                                             <link linkend="PangoOTTag">PangoOTTag</link> language_tag,
                                             <link linkend="guint">guint</link> *language_index,
                                             <link linkend="guint">guint</link> *required_feature_index);
<link linkend="gboolean">gboolean</link>    <link linkend="pango-ot-info-find-feature">pango_ot_info_find_feature</link>      (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="PangoOTTag">PangoOTTag</link> feature_tag,
                                             <link linkend="guint">guint</link> script_index,
                                             <link linkend="guint">guint</link> language_index,
                                             <link linkend="guint">guint</link> *feature_index);
<link linkend="PangoOTTag">PangoOTTag</link>* <link linkend="pango-ot-info-list-scripts">pango_ot_info_list_scripts</link>      (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type);
<link linkend="PangoOTTag">PangoOTTag</link>* <link linkend="pango-ot-info-list-languages">pango_ot_info_list_languages</link>    (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="guint">guint</link> script_index,
                                             <link linkend="PangoOTTag">PangoOTTag</link> language_tag);
<link linkend="PangoOTTag">PangoOTTag</link>* <link linkend="pango-ot-info-list-features">pango_ot_info_list_features</link>     (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="PangoOTTag">PangoOTTag</link> tag,
                                             <link linkend="guint">guint</link> script_index,
                                             <link linkend="guint">guint</link> language_index);
<link linkend="PangoOTBuffer">PangoOTBuffer</link>* <link linkend="pango-ot-buffer-new">pango_ot_buffer_new</link>          (<link linkend="PangoFcFont">PangoFcFont</link> *font);
<link linkend="void">void</link>        <link linkend="pango-ot-buffer-destroy">pango_ot_buffer_destroy</link>         (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer);
<link linkend="void">void</link>        <link linkend="pango-ot-buffer-clear">pango_ot_buffer_clear</link>           (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer);
<link linkend="void">void</link>        <link linkend="pango-ot-buffer-add-glyph">pango_ot_buffer_add_glyph</link>       (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer,
                                             <link linkend="guint">guint</link> glyph,
                                             <link linkend="guint">guint</link> properties,
                                             <link linkend="guint">guint</link> cluster);
<link linkend="void">void</link>        <link linkend="pango-ot-buffer-set-rtl">pango_ot_buffer_set_rtl</link>         (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer,
                                             <link linkend="gboolean">gboolean</link> rtl);
<link linkend="void">void</link>        <link linkend="pango-ot-buffer-set-zero-width-marks">pango_ot_buffer_set_zero_width_marks</link>
                                            (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer,
                                             <link linkend="gboolean">gboolean</link> zero_width_marks);
<link linkend="void">void</link>        <link linkend="pango-ot-buffer-get-glyphs">pango_ot_buffer_get_glyphs</link>      (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer,
                                             <link linkend="PangoOTGlyph">PangoOTGlyph</link> **glyphs,
                                             <link linkend="int">int</link> *n_glyphs);
<link linkend="void">void</link>        <link linkend="pango-ot-buffer-output">pango_ot_buffer_output</link>          (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer,
                                             <link linkend="PangoGlyphString">PangoGlyphString</link> *glyphs);
<link linkend="PangoOTRuleset">PangoOTRuleset</link>* <link linkend="pango-ot-ruleset-new">pango_ot_ruleset_new</link>        (<link linkend="PangoOTInfo">PangoOTInfo</link> *info);
<link linkend="void">void</link>        <link linkend="pango-ot-ruleset-add-feature">pango_ot_ruleset_add_feature</link>    (<link linkend="PangoOTRuleset">PangoOTRuleset</link> *ruleset,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="guint">guint</link> feature_index,
                                             <link linkend="gulong">gulong</link> property_bit);
<link linkend="void">void</link>        <link linkend="pango-ot-ruleset-substitute">pango_ot_ruleset_substitute</link>     (<link linkend="PangoOTRuleset">PangoOTRuleset</link> *ruleset,
                                             <link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer);
<link linkend="void">void</link>        <link linkend="pango-ot-ruleset-position">pango_ot_ruleset_position</link>       (<link linkend="PangoOTRuleset">PangoOTRuleset</link> *ruleset,
                                             <link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer);
</synopsis>
</refsynopsisdiv>









<refsect1 role="desc">
<title role="desc.title">Description</title>
<para>
Functions and macros in this section are used to implement the OpenType Layout
features and algorithms.  These are mostly useful when writing Fontconfig-based
shaping engines
</para>
</refsect1>

<refsect1 role="details">
<title role="details.title">Details</title>
<refsect2>
<title><anchor id="PangoOTTag" role="typedef"/>PangoOTTag</title>
<indexterm><primary>PangoOTTag</primary></indexterm><programlisting>typedef guint32  PangoOTTag;
</programlisting>
<para>
The <type>PangoOTTag</type> typedef is used to represent TrueType and OpenType
four letter tags inside Pango. Use the <function><link linkend="FT-MAKE-TAG:CAPS"><function>FT_MAKE_TAG()</function></link></function> macro
defined in the FreeType2 header <filename>freetype/freetype.h</filename> to 
create <type>PangoOTTag</type>s manually.
</para></refsect2>
<refsect2>
<title><anchor id="PangoOTInfo" role="struct"/>PangoOTInfo</title>
<indexterm><primary>PangoOTInfo</primary></indexterm><programlisting>typedef struct _PangoOTInfo PangoOTInfo;</programlisting>
<para>
The <link linkend="PangoOTInfo"><type>PangoOTInfo</type></link> struct contains the various 
tables associated with an OpenType font. It contains only private fields and
should only be accessed via the <function>pango_ot_info_*</function> functions
which are documented below. To obtain a <link linkend="PangoOTInfo"><type>PangoOTInfo</type></link>,
use <link linkend="pango-ot-info-new"><function>pango_ot_info_new()</function></link>.
</para></refsect2>
<refsect2>
<title><anchor id="PangoOTBuffer" role="struct"/>PangoOTBuffer</title>
<indexterm><primary>PangoOTBuffer</primary></indexterm><programlisting>typedef struct _PangoOTBuffer PangoOTBuffer;</programlisting>
<para>
The <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link> structure is used to store strings of glyphs associated
with a <link linkend="PangoFcFont"><type>PangoFcFont</type></link>, suitable for OpenType layout processing.  It contains
only private fields and should only be accessed via the
<function>pango_ot_buffer_*</function> functions which are documented below.
To obtain a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>, use <link linkend="pango-ot-buffer-new"><function>pango_ot_buffer_new()</function></link>.
</para></refsect2>
<refsect2>
<title><anchor id="PangoOTGlyph" role="struct"/>PangoOTGlyph</title>
<indexterm><primary>PangoOTGlyph</primary></indexterm><programlisting>typedef struct {
  guint    glyph;
  guint    properties;
  guint    cluster;
  gushort  component;
  gushort  ligID;
  gushort  property_cache;    /* Internal */
} PangoOTGlyph;
</programlisting>
<para>
The <link linkend="PangoOTGlyph"><type>PangoOTGlyph</type></link> structure represents a single glyph together with
information used for OpenType layout processing of the glyph.
It contains the following fields.
</para><variablelist role="struct">
<varlistentry>
<term><link linkend="guint">guint</link>&nbsp;<structfield>glyph</structfield>;</term>
<listitem><simpara>the glyph itself.
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="guint">guint</link>&nbsp;<structfield>properties</structfield>;</term>
<listitem><simpara>the properties value, identifying which features should be
	     applied on this glyph.  See <link linkend="pango-ruleset-add-feature"><function>pango_ruleset_add_feature()</function></link>.
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="guint">guint</link>&nbsp;<structfield>cluster</structfield>;</term>
<listitem><simpara>the cluster that this glyph belongs to.
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="gushort">gushort</link>&nbsp;<structfield>component</structfield>;</term>
<listitem><simpara>a component value, set by the OpenType layout engine.
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="gushort">gushort</link>&nbsp;<structfield>ligID</structfield>;</term>
<listitem><simpara>a ligature index value, set by the OpenType layout engine.
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="gushort">gushort</link>&nbsp;<structfield>property_cache</structfield>;</term>
<listitem><simpara>for internal use.

</simpara></listitem>
</varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="PangoOTRuleset" role="struct"/>PangoOTRuleset</title>
<indexterm><primary>PangoOTRuleset</primary></indexterm><programlisting>typedef struct _PangoOTRuleset PangoOTRuleset;</programlisting>
<para>
The <link linkend="PangoOTRuleSet"><type>PangoOTRuleSet</type></link> structure holds a
set of features selected from the tables in an OpenType font.
(A feature is an operation such as adjusting glyph positioning
that should be applied to a text feature such as a certain
type of accent.) A <link linkend="PangoOTRuleSet"><type>PangoOTRuleSet</type></link>
is created with <link linkend="pango-ot-ruleset-new"><function>pango_ot_ruleset_new()</function></link>, features are added
to it with <link linkend="pango-ot-ruleset-add-feature"><function>pango_ot_ruleset_add_feature()</function></link>, then it is
applied to a <link linkend="PangoGlyphString"><type>PangoGlyphString</type></link> with <link linkend="pango-ot-ruleset-shape"><function>pango_ot_ruleset_shape()</function></link>.
</para></refsect2>
<refsect2>
<title><anchor id="PangoOTTableType" role="enum"/>enum PangoOTTableType</title>
<indexterm><primary>PangoOTTableType</primary></indexterm><programlisting>typedef enum
{
  PANGO_OT_TABLE_GSUB,
  PANGO_OT_TABLE_GPOS
} PangoOTTableType;
</programlisting>
<para>
The <type>PangoOTTableType</type> enumeration values are used to
identify the various OpenType tables in the
<function>pango_ot_info_*</function> functions.
</para><variablelist role="enum">
<varlistentry>
<term><anchor id="PANGO-OT-TABLE-GSUB:CAPS" role="constant"/><literal>PANGO_OT_TABLE_GSUB</literal></term>
<listitem><simpara>The GSUB table.
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><anchor id="PANGO-OT-TABLE-GPOS:CAPS" role="constant"/><literal>PANGO_OT_TABLE_GPOS</literal></term>
<listitem><simpara>The GPOS table.

</simpara></listitem>
</varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="PANGO-OT-ALL-GLYPHS:CAPS" role="macro"/>PANGO_OT_ALL_GLYPHS</title>
<indexterm><primary>PANGO_OT_ALL_GLYPHS</primary></indexterm><programlisting>#define PANGO_OT_ALL_GLYPHS		((guint)0xFFFF)
</programlisting>
<para>
This is used as the property bit in <link linkend="pango-ot-ruleset-add-feature"><function>pango_ot_ruleset_add_feature()</function></link> when a
feature should be applied to all glyphs.
</para></refsect2>
<refsect2>
<title><anchor id="PANGO-OT-DEFAULT-LANGUAGE:CAPS" role="macro"/>PANGO_OT_DEFAULT_LANGUAGE</title>
<indexterm><primary>PANGO_OT_DEFAULT_LANGUAGE</primary></indexterm><programlisting>#define PANGO_OT_DEFAULT_LANGUAGE	((guint)0xFFFF)
</programlisting>
<para>
This is used as the language index in <link linkend="pango-ot-info-find-feature"><function>pango_ot_info_find_feature()</function></link> when a
the default language system of the script is desired.
</para></refsect2>
<refsect2>
<title><anchor id="pango-ot-info-get" role="function" condition="since:1.2"/>pango_ot_info_get ()</title>
<indexterm role="1.2"><primary>pango_ot_info_get</primary></indexterm><programlisting><link linkend="PangoOTInfo">PangoOTInfo</link>* pango_ot_info_get              (<link linkend="FT-Face">FT_Face</link> face);</programlisting>
<para>
Returns the <link linkend="PangoOTInfo"><type>PangoOTInfo</type></link> structure for the given FreeType font.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>face</parameter>&nbsp;:</term>
<listitem><simpara> a <type>FT_Face</type>.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> the <link linkend="PangoOTInfo"><type>PangoOTInfo</type></link> for <parameter>face</parameter>. This object will have
the same lifetime as <parameter>face</parameter>.

</simpara></listitem></varlistentry>
</variablelist><para>Since  1.2
</para></refsect2>
<refsect2>
<title><anchor id="pango-ot-info-find-script" role="function"/>pango_ot_info_find_script ()</title>
<indexterm><primary>pango_ot_info_find_script</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>    pango_ot_info_find_script       (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="PangoOTTag">PangoOTTag</link> script_tag,
                                             <link linkend="guint">guint</link> *script_index);</programlisting>
<para>
Finds the index of a script.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>info</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTInfo"><type>PangoOTInfo</type></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>table_type</parameter>&nbsp;:</term>
<listitem><simpara> the table type to obtain information about.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>script_tag</parameter>&nbsp;:</term>
<listitem><simpara> the tag of the script to find.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>script_index</parameter>&nbsp;:</term>
<listitem><simpara> location to store the index of the script, or <link linkend="NULL:CAPS"><literal>NULL</literal></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> <link linkend="TRUE:CAPS"><literal>TRUE</literal></link> if the script was found.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="pango-ot-info-find-language" role="function"/>pango_ot_info_find_language ()</title>
<indexterm><primary>pango_ot_info_find_language</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>    pango_ot_info_find_language     (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="guint">guint</link> script_index,
                                             <link linkend="PangoOTTag">PangoOTTag</link> language_tag,
                                             <link linkend="guint">guint</link> *language_index,
                                             <link linkend="guint">guint</link> *required_feature_index);</programlisting>
<para>
Finds the index of a language and its required feature index.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>info</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTInfo"><type>PangoOTInfo</type></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>table_type</parameter>&nbsp;:</term>
<listitem><simpara> the table type to obtain information about.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>script_index</parameter>&nbsp;:</term>
<listitem><simpara> the index of the script whose languages are searched.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>language_tag</parameter>&nbsp;:</term>
<listitem><simpara> the tag of the language to find.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>language_index</parameter>&nbsp;:</term>
<listitem><simpara> location to store the index of the language, or <link linkend="NULL:CAPS"><literal>NULL</literal></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>required_feature_index</parameter>&nbsp;:</term>
<listitem><simpara> location to store the required feature index of
   the language, or <link linkend="NULL:CAPS"><literal>NULL</literal></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> <link linkend="TRUE:CAPS"><literal>TRUE</literal></link> if the language was found.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="pango-ot-info-find-feature" role="function"/>pango_ot_info_find_feature ()</title>
<indexterm><primary>pango_ot_info_find_feature</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>    pango_ot_info_find_feature      (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="PangoOTTag">PangoOTTag</link> feature_tag,
                                             <link linkend="guint">guint</link> script_index,
                                             <link linkend="guint">guint</link> language_index,
                                             <link linkend="guint">guint</link> *feature_index);</programlisting>
<para>
Finds the index of a feature.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>info</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTInfo"><type>PangoOTInfo</type></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>table_type</parameter>&nbsp;:</term>
<listitem><simpara> the table type to obtain information about.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>feature_tag</parameter>&nbsp;:</term>
<listitem><simpara> the tag of the feature to find.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>script_index</parameter>&nbsp;:</term>
<listitem><simpara> the index of the script.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>language_index</parameter>&nbsp;:</term>
<listitem><simpara> the index of the language whose features are searched,
    or <link linkend="PANGO-OT-DEFAULT-LANGUAGE:CAPS"><literal>PANGO_OT_DEFAULT_LANGUAGE</literal></link> to use the default language of the script.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>feature_index</parameter>&nbsp;:</term>
<listitem><simpara> location to store the index of the feature, or <link linkend="NULL:CAPS"><literal>NULL</literal></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> <link linkend="TRUE:CAPS"><literal>TRUE</literal></link> if the feature was found.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="pango-ot-info-list-scripts" role="function"/>pango_ot_info_list_scripts ()</title>
<indexterm><primary>pango_ot_info_list_scripts</primary></indexterm><programlisting><link linkend="PangoOTTag">PangoOTTag</link>* pango_ot_info_list_scripts      (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type);</programlisting>
<para>
Obtains the list of available scripts.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>info</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTInfo"><type>PangoOTInfo</type></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>table_type</parameter>&nbsp;:</term>
<listitem><simpara> the table type to obtain information about.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> a newly-allocated array containing the tags of the
  available scripts.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="pango-ot-info-list-languages" role="function"/>pango_ot_info_list_languages ()</title>
<indexterm><primary>pango_ot_info_list_languages</primary></indexterm><programlisting><link linkend="PangoOTTag">PangoOTTag</link>* pango_ot_info_list_languages    (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="guint">guint</link> script_index,
                                             <link linkend="PangoOTTag">PangoOTTag</link> language_tag);</programlisting>
<para>
Obtains the list of available languages for a given script.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>info</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTInfo"><type>PangoOTInfo</type></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>table_type</parameter>&nbsp;:</term>
<listitem><simpara> the table type to obtain information about.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>script_index</parameter>&nbsp;:</term>
<listitem><simpara> the index of the script to list languages for.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>language_tag</parameter>&nbsp;:</term>
<listitem><simpara> unused parameter.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> a newly-allocated array containing the tags of the
  available languages.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="pango-ot-info-list-features" role="function"/>pango_ot_info_list_features ()</title>
<indexterm><primary>pango_ot_info_list_features</primary></indexterm><programlisting><link linkend="PangoOTTag">PangoOTTag</link>* pango_ot_info_list_features     (<link linkend="PangoOTInfo">PangoOTInfo</link> *info,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="PangoOTTag">PangoOTTag</link> tag,
                                             <link linkend="guint">guint</link> script_index,
                                             <link linkend="guint">guint</link> language_index);</programlisting>
<para>
Obtains the list of features for the given language of the given script.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>info</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTInfo"><type>PangoOTInfo</type></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>table_type</parameter>&nbsp;:</term>
<listitem><simpara> the table type to obtain information about.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>tag</parameter>&nbsp;:</term>
<listitem><simpara> unused parameter.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>script_index</parameter>&nbsp;:</term>
<listitem><simpara> the index of the script to obtain information about.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>language_index</parameter>&nbsp;:</term>
<listitem><simpara> the index of the language to list features for, or
    <link linkend="PANGO-OT-DEFAULT-LANGUAGE:CAPS"><literal>PANGO_OT_DEFAULT_LANGUAGE</literal></link>, to list features for the default
    language of the script.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> a newly-allocated array containing the tags of the
available features.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="pango-ot-buffer-new" role="function" condition="since:1.4"/>pango_ot_buffer_new ()</title>
<indexterm role="1.4"><primary>pango_ot_buffer_new</primary></indexterm><programlisting><link linkend="PangoOTBuffer">PangoOTBuffer</link>* pango_ot_buffer_new          (<link linkend="PangoFcFont">PangoFcFont</link> *font);</programlisting>
<para>
Creates a new <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link> for the given OpenType font.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>font</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoFcFont"><type>PangoFcFont</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> the newly allocated <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>, which should
              be freed with <link linkend="pango-ot-buffer-destroy"><function>pango_ot_buffer_destroy()</function></link>.

</simpara></listitem></varlistentry>
</variablelist><para>Since  1.4
</para></refsect2>
<refsect2>
<title><anchor id="pango-ot-buffer-destroy" role="function" condition="since:1.4"/>pango_ot_buffer_destroy ()</title>
<indexterm role="1.4"><primary>pango_ot_buffer_destroy</primary></indexterm><programlisting><link linkend="void">void</link>        pango_ot_buffer_destroy         (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer);</programlisting>
<para>
Destroys a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link> and free all associated memory.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>buffer</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>
</simpara></listitem></varlistentry>
</variablelist><para>Since  1.4
</para></refsect2>
<refsect2>
<title><anchor id="pango-ot-buffer-clear" role="function" condition="since:1.4"/>pango_ot_buffer_clear ()</title>
<indexterm role="1.4"><primary>pango_ot_buffer_clear</primary></indexterm><programlisting><link linkend="void">void</link>        pango_ot_buffer_clear           (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer);</programlisting>
<para>
Empties a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>, make it ready to add glyphs to.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>buffer</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>
</simpara></listitem></varlistentry>
</variablelist><para>Since  1.4
</para></refsect2>
<refsect2>
<title><anchor id="pango-ot-buffer-add-glyph" role="function" condition="since:1.4"/>pango_ot_buffer_add_glyph ()</title>
<indexterm role="1.4"><primary>pango_ot_buffer_add_glyph</primary></indexterm><programlisting><link linkend="void">void</link>        pango_ot_buffer_add_glyph       (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer,
                                             <link linkend="guint">guint</link> glyph,
                                             <link linkend="guint">guint</link> properties,
                                             <link linkend="guint">guint</link> cluster);</programlisting>
<para>
Appends a glyph to a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>, with <parameter>properties</parameter> identifying which
features should be applied on this glyph.  See <link linkend="pango-ruleset-add-feature"><function>pango_ruleset_add_feature()</function></link>.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>buffer</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>glyph</parameter>&nbsp;:</term>
<listitem><simpara> the glyph index to add, like a <link linkend="PangoGlyph"><type>PangoGlyph</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>properties</parameter>&nbsp;:</term>
<listitem><simpara> the glyph properties
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>cluster</parameter>&nbsp;:</term>
<listitem><simpara> the cluster that this glyph belongs to
</simpara></listitem></varlistentry>
</variablelist><para>Since  1.4
</para></refsect2>
<refsect2>
<title><anchor id="pango-ot-buffer-set-rtl" role="function" condition="since:1.4"/>pango_ot_buffer_set_rtl ()</title>
<indexterm role="1.4"><primary>pango_ot_buffer_set_rtl</primary></indexterm><programlisting><link linkend="void">void</link>        pango_ot_buffer_set_rtl         (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer,
                                             <link linkend="gboolean">gboolean</link> rtl);</programlisting>
<para>
Sets whether glyphs will be rendered right-to-left.  This setting
is needed for proper horizontal positioning of right-to-left scripts.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>buffer</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>rtl</parameter>&nbsp;:</term>
<listitem><simpara> <link linkend="TRUE:CAPS"><literal>TRUE</literal></link> for right-to-left text
</simpara></listitem></varlistentry>
</variablelist><para>Since  1.4
</para></refsect2>
<refsect2>
<title><anchor id="pango-ot-buffer-set-zero-width-marks" role="function" condition="since:1.6"/>pango_ot_buffer_set_zero_width_marks ()</title>
<indexterm role="1.6"><primary>pango_ot_buffer_set_zero_width_marks</primary></indexterm><programlisting><link linkend="void">void</link>        pango_ot_buffer_set_zero_width_marks
                                            (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer,
                                             <link linkend="gboolean">gboolean</link> zero_width_marks);</programlisting>
<para>
Sets whether characters with a mark class should be forced to zero width.
This setting is needed for proper positioning of Arabic accents,
but will produce incorrect results with standard OpenType Indic
fonts.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>buffer</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>zero_width_marks</parameter>&nbsp;:</term>
<listitem><simpara> <link linkend="TRUE:CAPS"><literal>TRUE</literal></link> if characters with a mark class should
 be forced to zero width.
</simpara></listitem></varlistentry>
</variablelist><para>Since  1.6
</para></refsect2>
<refsect2>
<title><anchor id="pango-ot-buffer-get-glyphs" role="function" condition="since:1.4"/>pango_ot_buffer_get_glyphs ()</title>
<indexterm role="1.4"><primary>pango_ot_buffer_get_glyphs</primary></indexterm><programlisting><link linkend="void">void</link>        pango_ot_buffer_get_glyphs      (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer,
                                             <link linkend="PangoOTGlyph">PangoOTGlyph</link> **glyphs,
                                             <link linkend="int">int</link> *n_glyphs);</programlisting>
<para>
Gets the glyph array contained in a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>.  The glyphs are
owned by the buffer and should not be freed, and are only valid as long
as buffer is not modified.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>buffer</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>glyphs</parameter>&nbsp;:</term>
<listitem><simpara> location to store the array of glyphs, or <link linkend="NULL:CAPS"><literal>NULL</literal></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>n_glyphs</parameter>&nbsp;:</term>
<listitem><simpara> location to store the number of glyphs, or <link linkend="NULL:CAPS"><literal>NULL</literal></link>
</simpara></listitem></varlistentry>
</variablelist><para>Since  1.4
</para></refsect2>
<refsect2>
<title><anchor id="pango-ot-buffer-output" role="function" condition="since:1.4"/>pango_ot_buffer_output ()</title>
<indexterm role="1.4"><primary>pango_ot_buffer_output</primary></indexterm><programlisting><link linkend="void">void</link>        pango_ot_buffer_output          (<link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer,
                                             <link linkend="PangoGlyphString">PangoGlyphString</link> *glyphs);</programlisting>
<para>
Exports the glyphs in a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link> into a <link linkend="PangoGlyphString"><type>PangoGlyphString</type></link>.  This is
typically used after the OpenType layout processing is over, to convert the
resulting glyphs into a generic Pango glyph string.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>buffer</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>glyphs</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoGlyphString"><type>PangoGlyphString</type></link>
</simpara></listitem></varlistentry>
</variablelist><para>Since  1.4
</para></refsect2>
<refsect2>
<title><anchor id="pango-ot-ruleset-new" role="function"/>pango_ot_ruleset_new ()</title>
<indexterm><primary>pango_ot_ruleset_new</primary></indexterm><programlisting><link linkend="PangoOTRuleset">PangoOTRuleset</link>* pango_ot_ruleset_new        (<link linkend="PangoOTInfo">PangoOTInfo</link> *info);</programlisting>
<para>
Creates a new <link linkend="PangoOTRuleset"><type>PangoOTRuleset</type></link> for the given OpenType info.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>info</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTInfo"><type>PangoOTInfo</type></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> the newly allocated <link linkend="PangoOTRuleset"><type>PangoOTRuleset</type></link>, which
              should be freed with <link linkend="g-object-unref"><function>g_object_unref()</function></link>.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="pango-ot-ruleset-add-feature" role="function"/>pango_ot_ruleset_add_feature ()</title>
<indexterm><primary>pango_ot_ruleset_add_feature</primary></indexterm><programlisting><link linkend="void">void</link>        pango_ot_ruleset_add_feature    (<link linkend="PangoOTRuleset">PangoOTRuleset</link> *ruleset,
                                             <link linkend="PangoOTTableType">PangoOTTableType</link> table_type,
                                             <link linkend="guint">guint</link> feature_index,
                                             <link linkend="gulong">gulong</link> property_bit);</programlisting>
<para>
Adds a feature to the ruleset.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>ruleset</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTRuleset"><type>PangoOTRuleset</type></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>table_type</parameter>&nbsp;:</term>
<listitem><simpara> the table type to add a feature to.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>feature_index</parameter>&nbsp;:</term>
<listitem><simpara> the index of the feature to add.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>property_bit</parameter>&nbsp;:</term>
<listitem><simpara> the property bit to use for this feature. Used to identify
               the glyphs that this feature should be applied to, or
               <link linkend="PANGO-OT-ALL-GLYPHS:CAPS"><literal>PANGO_OT_ALL_GLYPHS</literal></link> if it should be applied to all glyphs.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="pango-ot-ruleset-substitute" role="function" condition="since:1.4"/>pango_ot_ruleset_substitute ()</title>
<indexterm role="1.4"><primary>pango_ot_ruleset_substitute</primary></indexterm><programlisting><link linkend="void">void</link>        pango_ot_ruleset_substitute     (<link linkend="PangoOTRuleset">PangoOTRuleset</link> *ruleset,
                                             <link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer);</programlisting>
<para>
Performs the OpenType GSUB substitution on <parameter>buffer</parameter> using the features
in <parameter>ruleset</parameter></para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>ruleset</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTRuleset"><type>PangoOTRuleset</type></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>buffer</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>.
</simpara></listitem></varlistentry>
</variablelist><para>Since  1.4
</para></refsect2>
<refsect2>
<title><anchor id="pango-ot-ruleset-position" role="function" condition="since:1.4"/>pango_ot_ruleset_position ()</title>
<indexterm role="1.4"><primary>pango_ot_ruleset_position</primary></indexterm><programlisting><link linkend="void">void</link>        pango_ot_ruleset_position       (<link linkend="PangoOTRuleset">PangoOTRuleset</link> *ruleset,
                                             <link linkend="PangoOTBuffer">PangoOTBuffer</link> *buffer);</programlisting>
<para>
Performs the OpenType GPOS positioning on <parameter>buffer</parameter> using the features
in <parameter>ruleset</parameter></para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>ruleset</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTRuleset"><type>PangoOTRuleset</type></link>.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>buffer</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="PangoOTBuffer"><type>PangoOTBuffer</type></link>.
</simpara></listitem></varlistentry>
</variablelist><para>Since  1.4
</para></refsect2>

</refsect1>




</refentry>
